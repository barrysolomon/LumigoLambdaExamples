To create the IAM roles for these Lambda functions, we’ll create two roles with the required permissions for Lambda execution, logging, and EventBridge. Here’s a step-by-step guide using the AWS CLI to create these roles.

Disclaimer: This and the other READEMEs were generated by chatGPT.  They look correct, but I have not followed their steps from scratch.

### Step 1: Create the Trust Policy for Lambda

This policy will allow AWS Lambda to assume the role. Save the following JSON to a file named `lambda-trust-policy.json`:

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Principal": {
        "Service": "lambda.amazonaws.com"
      },
      "Action": "sts:AssumeRole"
    }
  ]
}
```

### Step 2: Create the Policy Document for Lambda Execution and Logging

Create a JSON file named `lambda-execution-policy.json` with the necessary permissions for Lambda execution and CloudWatch logging:

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "logs:CreateLogGroup",
        "logs:CreateLogStream",
        "logs:PutLogEvents"
      ],
      "Resource": "arn:aws:logs:*:*:*"
    },
    {
      "Effect": "Allow",
      "Action": [
        "lambda:InvokeFunction"
      ],
      "Resource": "*"
    }
  ]
}
```

### Step 3: Create a Second Policy Document for EventBridge (For the First Lambda)

Create a second policy document, named `eventbridge-policy.json`, with permissions for the `logAndTriggerLambda` function to put events to EventBridge.

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "events:PutEvents"
      ],
      "Resource": "arn:aws:events:*:*:event-bus/default"
    }
  ]
}
```

### Step 4: Create the IAM Roles and Attach Policies

1. **Create the IAM Role for `logAndTriggerLambda`:**

   ```bash
   aws iam create-role --role-name logAndTriggerLambdaRole \
       --assume-role-policy-document file://lambda-trust-policy.json
   ```

2. **Attach Execution and EventBridge Policies to `logAndTriggerLambdaRole`:**

   ```bash
   aws iam put-role-policy --role-name logAndTriggerLambdaRole \
       --policy-name LambdaExecutionPolicy \
       --policy-document file://lambda-execution-policy.json

   aws iam put-role-policy --role-name logAndTriggerLambdaRole \
       --policy-name EventBridgePolicy \
       --policy-document file://eventbridge-policy.json
   ```

3. **Create the IAM Role for `triggeredLambda`:**

   ```bash
   aws iam create-role --role-name triggeredLambdaRole \
       --assume-role-policy-document file://lambda-trust-policy.json
   ```

4. **Attach Execution Policy to `triggeredLambdaRole`:**

   ```bash
   aws iam put-role-policy --role-name triggeredLambdaRole \
       --policy-name LambdaExecutionPolicy \
       --policy-document file://lambda-execution-policy.json
   ```

### Step 5: Verify the Roles and Policies

You can verify that the roles and policies were created by listing them:

```bash
aws iam list-roles | grep logAndTriggerLambdaRole
aws iam list-roles | grep triggeredLambdaRole
```

These roles will now have the necessary permissions to allow each Lambda function to perform its intended actions. You can retrieve their ARNs by running:

```bash
aws iam get-role --role-name logAndTriggerLambdaRole
aws iam get-role --role-name triggeredLambdaRole
```

Use the ARNs from the output to assign these roles to each Lambda during creation. Let me know if you need further customization!